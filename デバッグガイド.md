# ãƒ‡ãƒãƒƒã‚°ã‚¬ã‚¤ãƒ‰

[[README|â† ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹]]

---

## ğŸ¯ ã“ã®ã‚¬ã‚¤ãƒ‰ã®ç›®çš„

Rustã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚¨ãƒ©ãƒ¼ã‚’æ­£ã—ãèª­ã¿è§£ãã€ç´ æ—©ãå•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®å®Ÿè·µçš„ãªã‚¬ã‚¤ãƒ‰ã§ã™ã€‚Cè¨€èªã¨ã¯ç•°ãªã‚‹Rustç‰¹æœ‰ã®ã‚¨ãƒ©ãƒ¼ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ç†è§£ã—ã€åŠ¹ç‡çš„ã«ãƒ‡ãƒãƒƒã‚°ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## ğŸ“– Rustã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚¨ãƒ©ãƒ¼ã®èª­ã¿æ–¹

### åŸºæœ¬åŸå‰‡ï¼š**ä¸‹ã‹ã‚‰ä¸Šã«èª­ã‚€**

Cè¨€èªã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨ã¯ç•°ãªã‚Šã€Rustã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯**æœ€ã‚‚é‡è¦ãªæƒ…å ±ãŒä¸‹ã«ã‚ã‚‹**ã“ã¨ãŒå¤šã„ã§ã™ã€‚

```rust
// ä¾‹ï¼šã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚³ãƒ¼ãƒ‰
fn main() {
    let s = String::from("hello");
    let r1 = &s;
    let r2 = &mut s;  // â† ã“ã“ã§ã‚¨ãƒ©ãƒ¼
}
```

**ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼š**

```
error[E0502]: cannot borrow `s` as mutable because it is also borrowed as immutable
 --> src/main.rs:4:14
  |
3 |     let r1 = &s;
  |              -- immutable borrow occurs here
4 |     let r2 = &mut s;
  |              ^^^^^^ mutable borrow occurs here
5 | }
  | - immutable borrow later used here
```

**èª­ã¿æ–¹ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼š**

1. **ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèª**ï¼š`error[E0502]` â†’ ã“ã®ã‚³ãƒ¼ãƒ‰ã§æ¤œç´¢ã™ã‚‹ã¨è©³ç´°ãªèª¬æ˜ãŒè¦‹ã¤ã‹ã‚‹
2. **ã‚¨ãƒ©ãƒ¼ã®æœ¬è³ªã‚’èª­ã‚€**ï¼šã€Œcannot borrow `s` as mutable because it is also borrowed as immutableã€
3. **å ´æ‰€ã‚’ç¢ºèª**ï¼š`--> src/main.rs:4:14` â†’ 4è¡Œç›®ã€14æ–‡å­—ç›®
4. **è©³ç´°ãªèª¬æ˜ã‚’èª­ã‚€**ï¼š`^^`ã§ç¤ºã•ã‚ŒãŸç®‡æ‰€ãŒå•é¡Œã®å ´æ‰€
5. **ãƒ’ãƒ³ãƒˆã‚’ç¢ºèª**ï¼š`immutable borrow occurs here`ãªã©ã®è£œè¶³èª¬æ˜

### ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®æ´»ç”¨

ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã§è©³ã—ã„èª¬æ˜ã‚’ç¢ºèªã§ãã¾ã™ï¼š

```bash
# ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®è©³ç´°ã‚’è¡¨ç¤º
rustc --explain E0502

# ã¾ãŸã¯å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§æ¤œç´¢
# https://doc.rust-lang.org/error-index.html#E0502
```

---

## ğŸ› ï¸ Cargoãƒ„ãƒ¼ãƒ«ã®ä½¿ã„åˆ†ã‘

### 1. `cargo check`

**ç”¨é€”ï¼š** é«˜é€Ÿãªå‹ãƒã‚§ãƒƒã‚¯ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯ã—ãªã„ï¼‰

```bash
cargo check
```

**ã„ã¤ä½¿ã†ï¼Ÿ**
- ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ã‚‹æœ€ä¸­ã€é »ç¹ã«å®Ÿè¡Œ
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚ˆã‚Š10å€é€Ÿã„
- å‹ã‚¨ãƒ©ãƒ¼ã‚„å€Ÿç”¨ã‚¨ãƒ©ãƒ¼ã‚’ã™ãã«æ¤œå‡º

**Cè¨€èªã¨ã®é•ã„ï¼š**
Cè¨€èªã§ã¯`gcc -fsyntax-only`ã«ç›¸å½“ã—ã¾ã™ãŒã€Rustã§ã¯å‹ã‚·ã‚¹ãƒ†ãƒ ãŒå¼·åŠ›ãªã®ã§ã€`cargo check`ã ã‘ã§ã»ã¨ã‚“ã©ã®ãƒã‚°ã‚’æ¤œå‡ºã§ãã¾ã™ã€‚

---

### 2. `cargo build`

**ç”¨é€”ï¼š** å®Ÿéš›ã«ãƒã‚¤ãƒŠãƒªã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰
cargo build

# ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ï¼ˆæœ€é©åŒ–ï¼‰
cargo build --release
```

**ã„ã¤ä½¿ã†ï¼Ÿ**
- å®Ÿéš›ã«å®Ÿè¡Œã—ãŸã„ã¨ã
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’ãƒ†ã‚¹ãƒˆã—ãŸã„ã¨ãï¼ˆ--releaseã§ï¼‰

**Cè¨€èªã¨ã®é•ã„ï¼š**
- ãƒ‡ãƒãƒƒã‚°ãƒ“ãƒ«ãƒ‰ã¯`gcc -g`ç›¸å½“
- ãƒªãƒªãƒ¼ã‚¹ãƒ“ãƒ«ãƒ‰ã¯`gcc -O3`ç›¸å½“

---

### 3. `cargo clippy`

**ç”¨é€”ï¼š** ã‚ˆã‚Šè©³ç´°ãªé™çš„è§£æã¨ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

```bash
cargo clippy
```

**ã„ã¤ä½¿ã†ï¼Ÿ**
- ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å‰
- ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«å¾“ã£ã¦ã„ã‚‹ã‹ç¢ºèª
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„ææ¡ˆã‚’å¾—ã‚‹

**ä¾‹ï¼š**

```rust
// âŒ clippyãŒè­¦å‘Šã™ã‚‹ã‚³ãƒ¼ãƒ‰
let x = &String::from("hello");
// è­¦å‘Š: ç›´æ¥&strã‚’ä½¿ã†ã¹ã

// âœ… ä¿®æ­£å¾Œ
let x = "hello";
```

**Cè¨€èªã¨ã®é•ã„ï¼š**
Cè¨€èªã®`cppcheck`ã‚„`splint`ã«è¿‘ã„ã§ã™ãŒã€Rustã®clippyã¯ã¯ã‚‹ã‹ã«é«˜æ©Ÿèƒ½ã§ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã¨çµ±åˆã•ã‚Œã¦ã„ã¾ã™ã€‚

---

### 4. `cargo fmt`

**ç”¨é€”ï¼š** ã‚³ãƒ¼ãƒ‰ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®è‡ªå‹•æ•´å½¢

```bash
# ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é©ç”¨
cargo fmt

# ãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆCIã§ä½¿ç”¨ï¼‰
cargo fmt -- --check
```

**ã„ã¤ä½¿ã†ï¼Ÿ**
- ã‚³ãƒŸãƒƒãƒˆå‰
- ãƒãƒ¼ãƒ ã§çµ±ä¸€ã•ã‚ŒãŸã‚¹ã‚¿ã‚¤ãƒ«ã‚’ç¶­æŒ

**Cè¨€èªã¨ã®é•ã„ï¼š**
`clang-format`ã«ç›¸å½“ã—ã¾ã™ãŒã€Rustã§ã¯`rustfmt`ãŒå…¬å¼ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦æ¨™æº–åŒ–ã•ã‚Œã¦ã„ã¾ã™ã€‚

---

## ğŸ”¥ Cè¨€èªãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼ãŒã‚ˆãé­é‡ã™ã‚‹ã‚¨ãƒ©ãƒ¼

### ã‚¨ãƒ©ãƒ¼1ï¼šå€Ÿç”¨ãƒã‚§ãƒƒã‚«ãƒ¼ã‚¨ãƒ©ãƒ¼ï¼ˆBorrow Checker Errorsï¼‰

**Cè¨€èªã§ã®è€ƒãˆæ–¹ï¼š**
```c
// Cè¨€èªã§ã¯å•é¡Œãªã„
char *s = "hello";
char *r1 = s;
char *r2 = s;  // OK: ä¸¡æ–¹ã¨ã‚‚åŒã˜ãƒã‚¤ãƒ³ã‚¿ã‚’æŒ‡ã™
```

**Rustã§ã®ã‚¨ãƒ©ãƒ¼ï¼š**
```rust
// âŒ ã‚¨ãƒ©ãƒ¼
let s = String::from("hello");
let r1 = &s;
let r2 = &mut s;  // error[E0502]
```

**åŸå› ï¼š**
Rustã§ã¯ã€Œä¸å¤‰å‚ç…§ã€ã¨ã€Œå¯å¤‰å‚ç…§ã€ã‚’åŒæ™‚ã«æŒã¦ã¾ã›ã‚“ã€‚

**ä¿®æ­£ï¼š**
```rust
// âœ… ä¿®æ­£1: ã™ã¹ã¦ä¸å¤‰å‚ç…§
let s = String::from("hello");
let r1 = &s;
let r2 = &s;  // OK

// âœ… ä¿®æ­£2: å¯å¤‰å‚ç…§ã®ã¿
let mut s = String::from("hello");
let r = &mut s;  // OK
```

**â˜… Rustã®å“²å­¦ï¼š**
ãƒ‡ãƒ¼ã‚¿ç«¶åˆã‚’**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚**ã«é˜²ããŸã‚ã€ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ãŒã‚ã‚Šã¾ã™ï¼š
- ä»»æ„ã®æ•°ã®ä¸å¤‰å‚ç…§ **ã¾ãŸã¯** 1ã¤ã®å¯å¤‰å‚ç…§ã®ã¿
- å‚ç…§ã¯ãƒ‡ãƒ¼ã‚¿ã®æœ‰åŠ¹æœŸé–“å†…ã®ã¿æœ‰åŠ¹

---

### ã‚¨ãƒ©ãƒ¼2ï¼šãƒ ãƒ¼ãƒ–ã‚¨ãƒ©ãƒ¼ï¼ˆMove Errorsï¼‰

**Cè¨€èªã§ã®è€ƒãˆæ–¹ï¼š**
```c
// Cè¨€èªã§ã¯å•é¡Œãªã„
char *s1 = malloc(10);
char *s2 = s1;  // s1ã‚‚s2ã‚‚åŒã˜ãƒ¡ãƒ¢ãƒªã‚’æŒ‡ã™
printf("%s", s1);  // OK: ã¾ã ä½¿ãˆã‚‹
```

**Rustã§ã®ã‚¨ãƒ©ãƒ¼ï¼š**
```rust
// âŒ ã‚¨ãƒ©ãƒ¼
let s1 = String::from("hello");
let s2 = s1;  // s1ã®æ‰€æœ‰æ¨©ãŒs2ã«ç§»å‹•
println!("{}", s1);  // error[E0382]: borrow of moved value
```

**åŸå› ï¼š**
Rustã§ã¯æ‰€æœ‰æ¨©ãŒ**ç§»å‹•ï¼ˆmoveï¼‰**ã—ã¾ã™ã€‚s1ã¯ã‚‚ã†ä½¿ãˆã¾ã›ã‚“ã€‚

**ä¿®æ­£ï¼š**
```rust
// âœ… ä¿®æ­£1: ã‚¯ãƒ­ãƒ¼ãƒ³
let s1 = String::from("hello");
let s2 = s1.clone();  // æ˜ç¤ºçš„ã«ã‚³ãƒ”ãƒ¼
println!("{}", s1);  // OK

// âœ… ä¿®æ­£2: å€Ÿç”¨
let s1 = String::from("hello");
let s2 = &s1;  // å€Ÿç”¨ï¼ˆæ‰€æœ‰æ¨©ã¯ç§»å‹•ã—ãªã„ï¼‰
println!("{}", s1);  // OK
```

**Cè¨€èªã¨ã®æ¯”è¼ƒï¼š**
```
Cè¨€èª:
  s1 â†’ [ãƒ¡ãƒ¢ãƒª]
  s2 â†’ [ãƒ¡ãƒ¢ãƒª]  (åŒã˜ãƒ¡ãƒ¢ãƒªã‚’æŒ‡ã™)
  â€» äºŒé‡freeã®ãƒªã‚¹ã‚¯

Rust:
  s1 â†’ [ç„¡åŠ¹]
  s2 â†’ [ãƒ¡ãƒ¢ãƒª]  (æ‰€æœ‰æ¨©ãŒç§»å‹•)
  â€» ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒäºŒé‡freeã‚’é˜²ã
```

---

### ã‚¨ãƒ©ãƒ¼3ï¼šãƒ©ã‚¤ãƒ•ã‚¿ã‚¤ãƒ ã‚¨ãƒ©ãƒ¼ï¼ˆLifetime Errorsï¼‰

**Cè¨€èªã§ã®è€ƒãˆæ–¹ï¼š**
```c
// âŒ Cè¨€èªã§ã®ã‚ˆãã‚ã‚‹ãƒã‚°ï¼ˆã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯é€šã‚‹ãŒå®Ÿè¡Œæ™‚ã‚¨ãƒ©ãƒ¼ï¼‰
char* dangling() {
    char str[] = "hello";
    return str;  // ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°ãƒã‚¤ãƒ³ã‚¿ï¼
}
```

**Rustã§ã®ã‚¨ãƒ©ãƒ¼ï¼š**
```rust
// âŒ ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼
fn dangling() -> &str {
    let s = String::from("hello");
    &s  // error[E0515]: cannot return reference to local variable
}
```

**åŸå› ï¼š**
é–¢æ•°ã‚’æŠœã‘ã‚‹ã¨`s`ãŒç ´æ£„ã•ã‚Œã‚‹ãŸã‚ã€ãã®å‚ç…§ã‚’è¿”ã›ã¾ã›ã‚“ã€‚

**ä¿®æ­£ï¼š**
```rust
// âœ… ä¿®æ­£: æ‰€æœ‰æ¨©ã‚’è¿”ã™
fn not_dangling() -> String {
    String::from("hello")  // æ‰€æœ‰æ¨©ã‚’è¿”ã™
}
```

**â˜… Rustã®åˆ©ç‚¹ï¼š**
Cè¨€èªã§ã¯ãƒ€ãƒ³ã‚°ãƒªãƒ³ã‚°ãƒã‚¤ãƒ³ã‚¿ãŒ**å®Ÿè¡Œæ™‚**ã«ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¾ã™ãŒã€Rustã§ã¯**ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚**ã«ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚

---

### ã‚¨ãƒ©ãƒ¼4ï¼šå‹ã®ä¸ä¸€è‡´ï¼ˆType Mismatchï¼‰

**ã‚ˆãã‚ã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ï¼š**

```rust
// âŒ ã‚¨ãƒ©ãƒ¼
fn add(a: i32, b: i32) -> i32 {
    a + b;  // error[E0308]: mismatched types
}
```

**åŸå› ï¼š**
ã‚»ãƒŸã‚³ãƒ­ãƒ³`;`ãŒã‚ã‚‹ãŸã‚ã€`()`ï¼ˆunitå‹ï¼‰ã‚’è¿”ã—ã¦ã„ã¾ã™ã€‚

**ä¿®æ­£ï¼š**
```rust
// âœ… ä¿®æ­£: ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’å‰Šé™¤
fn add(a: i32, b: i32) -> i32 {
    a + b  // ã‚»ãƒŸã‚³ãƒ­ãƒ³ãªã— = å€¤ã‚’è¿”ã™
}
```

**Cè¨€èªã¨ã®é•ã„ï¼š**
```c
// Cè¨€èªã§ã¯ return å¿…é ˆ
int add(int a, int b) {
    return a + b;  // returnã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒå¿…è¦
}
```

Rustã§ã¯æœ€å¾Œã®å¼ãŒæˆ»ã‚Šå€¤ã«ãªã‚Šã¾ã™ï¼ˆ`return`ã¯çœç•¥å¯èƒ½ï¼‰ã€‚

---

## ğŸ› å®Ÿè·µçš„ãªãƒ‡ãƒãƒƒã‚°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

### ã‚¹ãƒ†ãƒƒãƒ—1: ã¾ãš `cargo check` ã‚’å®Ÿè¡Œ

```bash
cargo check
```

æœ€ã‚‚é«˜é€Ÿã«å‹ã‚¨ãƒ©ãƒ¼ã‚’æ¤œå‡ºã—ã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’**ä¸‹ã‹ã‚‰ä¸Šã«**èª­ã‚€

```
error[E0382]: borrow of moved value: `s`
 --> src/main.rs:4:20
  |
2 |     let s = String::from("hello");
  |         - move occurs because `s` has type `String`
3 |     let t = s;
  |             - value moved here
4 |     println!("{}", s);
  |                    ^ value borrowed here after move
```

**èª­ã¿æ–¹ï¼š**
1. 4è¡Œç›®ã§`s`ã‚’ä½¿ãŠã†ã¨ã—ã¦ã„ã‚‹
2. 3è¡Œç›®ã§`s`ãŒç§»å‹•ï¼ˆmoveï¼‰ã—ã¦ã„ã‚‹
3. ã ã‹ã‚‰4è¡Œç›®ã§ä½¿ãˆãªã„

---

### ã‚¹ãƒ†ãƒƒãƒ—3: ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã§æ¤œç´¢

```bash
rustc --explain E0382
```

ã¾ãŸã¯ã€Googleã§ã€Œrust E0382ã€ã¨æ¤œç´¢ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—4: `cargo clippy` ã§è¿½åŠ ã®è­¦å‘Šã‚’ç¢ºèª

```bash
cargo clippy
```

ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯é€šã‚‹ãŒã€ã‚ˆã‚Šè‰¯ã„æ›¸ãæ–¹ãŒã‚ã‚‹å ´åˆã«è­¦å‘Šã—ã¦ãã‚Œã¾ã™ã€‚

---

### ã‚¹ãƒ†ãƒƒãƒ—5: `cargo fmt` ã§ã‚³ãƒ¼ãƒ‰ã‚’æ•´å½¢

```bash
cargo fmt
```

èª­ã¿ã‚„ã™ã„ã‚³ãƒ¼ãƒ‰ã«ã™ã‚‹ã¨ã€ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ã‚„ã™ããªã‚Šã¾ã™ã€‚

---

## ğŸ” ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ä¸€è¦§

| ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ | æ„å‘³ | é »åº¦ |
|------------|------|------|
| E0382 | ç§»å‹•ã—ãŸå€¤ã®å€Ÿç”¨ | â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ |
| E0502 | ä¸å¤‰å€Ÿç”¨ä¸­ã«å¯å¤‰å€Ÿç”¨ | â­ï¸â­ï¸â­ï¸â­ï¸â­ï¸ |
| E0499 | è¤‡æ•°ã®å¯å¤‰å€Ÿç”¨ | â­ï¸â­ï¸â­ï¸â­ï¸ |
| E0515 | ãƒ­ãƒ¼ã‚«ãƒ«å¤‰æ•°ã¸ã®å‚ç…§ã‚’è¿”ã™ | â­ï¸â­ï¸â­ï¸â­ï¸ |
| E0308 | å‹ã®ä¸ä¸€è‡´ | â­ï¸â­ï¸â­ï¸ |
| E0425 | æœªå®šç¾©ã®å¤‰æ•° | â­ï¸â­ï¸â­ï¸ |
| E0277 | ãƒˆãƒ¬ã‚¤ãƒˆå¢ƒç•ŒãŒæº€ãŸã•ã‚Œã¦ã„ãªã„ | â­ï¸â­ï¸ |

---

## ğŸ’¡ ãƒ‡ãƒãƒƒã‚°ã®ã‚³ãƒ„

### 1. ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚’ä¿¡ã˜ã‚‹

Rustã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚¨ãƒ©ãƒ¼ã¯**æ­£ã—ã„**ã§ã™ã€‚ã€ŒãŸã¶ã‚“å‹•ãã ã‚ã†ã€ã¨ç„¡ç†ã‚„ã‚Šä¿®æ­£ã—ã¦ã‚‚ã€åˆ¥ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚ˆãèª­ã‚“ã§ã€**ãªãœã‚¨ãƒ©ãƒ¼ãªã®ã‹**ã‚’ç†è§£ã—ã¾ã—ã‚‡ã†ã€‚

### 2. å°ã•ãåˆ†å‰²ã—ã¦ç¢ºèª

ã‚¨ãƒ©ãƒ¼ãŒè¤‡é›‘ãªå ´åˆã€ã‚³ãƒ¼ãƒ‰ã‚’å°ã•ãåˆ†å‰²ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚

```rust
// âŒ è¤‡é›‘ã™ãã¦ã‚¨ãƒ©ãƒ¼ãŒã‚ã‹ã‚Šã«ãã„
let result = data.iter().filter(|x| x.is_valid()).map(|x| x.process()).collect();

// âœ… ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«åˆ†å‰²
let filtered: Vec<_> = data.iter().filter(|x| x.is_valid()).collect();
println!("Filtered: {:?}", filtered);  // ã“ã“ã¾ã§OKã‹ç¢ºèª

let processed: Vec<_> = filtered.iter().map(|x| x.process()).collect();
println!("Processed: {:?}", processed);  // ã“ã“ã¾ã§OKã‹ç¢ºèª
```

### 3. `dbg!` ãƒã‚¯ãƒ­ã‚’æ´»ç”¨

Cè¨€èªã®`printf`ãƒ‡ãƒãƒƒã‚°ã«ç›¸å½“ã™ã‚‹ã®ãŒ`dbg!`ãƒã‚¯ãƒ­ã§ã™ã€‚

```rust
let x = 5;
let y = 10;
dbg!(x);  // [src/main.rs:3] x = 5
dbg!(x + y);  // [src/main.rs:4] x + y = 15
```

**`println!`ã¨ã®é•ã„ï¼š**
- ãƒ•ã‚¡ã‚¤ãƒ«åã¨è¡Œç•ªå·ã‚’è‡ªå‹•ã§è¡¨ç¤º
- å¤‰æ•°åã‚‚è¡¨ç¤ºã•ã‚Œã‚‹
- å¼ã‚’ãã®ã¾ã¾æ¸¡ã›ã‚‹ï¼ˆå€¤ã¯æ¶ˆè²»ã•ã‚Œãªã„ï¼‰

---

## ğŸ¯ æ¼”ç¿’å•é¡Œ

ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

### å•é¡Œ1ï¼š

```rust
fn main() {
    let s = String::from("hello");
    let r1 = &s;
    let r2 = &mut s;
    println!("{} {}", r1, r2);
}
```

<details>
<summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>

**ã‚¨ãƒ©ãƒ¼ï¼š** `error[E0502]` - ä¸å¤‰å€Ÿç”¨ä¸­ã«å¯å¤‰å€Ÿç”¨ã§ããªã„

**ä¿®æ­£ï¼š**
```rust
fn main() {
    let mut s = String::from("hello");
    let r1 = &s;
    println!("{}", r1);

    let r2 = &mut s;  // r1ã®ã‚¹ã‚³ãƒ¼ãƒ—ãŒçµ‚ã‚ã£ãŸå¾Œ
    println!("{}", r2);
}
```

</details>

---

### å•é¡Œ2ï¼š

```rust
fn main() {
    let s1 = String::from("hello");
    let s2 = s1;
    println!("{}", s1);
}
```

<details>
<summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>

**ã‚¨ãƒ©ãƒ¼ï¼š** `error[E0382]` - ç§»å‹•ã—ãŸå€¤ã®å€Ÿç”¨

**ä¿®æ­£1ï¼ˆã‚¯ãƒ­ãƒ¼ãƒ³ï¼‰ï¼š**
```rust
fn main() {
    let s1 = String::from("hello");
    let s2 = s1.clone();
    println!("{}", s1);  // OK
}
```

**ä¿®æ­£2ï¼ˆå€Ÿç”¨ï¼‰ï¼š**
```rust
fn main() {
    let s1 = String::from("hello");
    let s2 = &s1;
    println!("{}", s1);  // OK
}
```

</details>

---

### å•é¡Œ3ï¼š

```rust
fn get_length(s: &String) -> usize {
    s.len();
}

fn main() {
    let s = String::from("hello");
    let len = get_length(&s);
    println!("Length: {}", len);
}
```

<details>
<summary>è§£ç­”ã‚’è¦‹ã‚‹</summary>

**ã‚¨ãƒ©ãƒ¼ï¼š** `error[E0308]` - å‹ã®ä¸ä¸€è‡´ï¼ˆ`()`ãŒè¿”ã•ã‚Œã¦ã„ã‚‹ï¼‰

**ä¿®æ­£ï¼š**
```rust
fn get_length(s: &String) -> usize {
    s.len()  // ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‚’å‰Šé™¤
}

fn main() {
    let s = String::from("hello");
    let len = get_length(&s);
    println!("Length: {}", len);
}
```

</details>

---

## ğŸ”— å‚è€ƒè³‡æ–™

- [Rust Compiler Error Index](https://doc.rust-lang.org/error-index.html) - ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã®è©³ç´°
- [The Rust Book - Error Handling](https://doc.rust-jp.rs/book-ja/ch09-00-error-handling.html)
- [Clippy Lints](https://rust-lang.github.io/rust-clippy/master/) - ã™ã¹ã¦ã®clippyè­¦å‘Šã®ä¸€è¦§

---

[[README|ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹]]
